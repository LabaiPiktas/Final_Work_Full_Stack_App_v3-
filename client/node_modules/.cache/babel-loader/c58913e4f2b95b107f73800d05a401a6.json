{"ast":null,"code":"import React, { useState, useRef } from 'react';\nimport { useScrollIntoView } from '@mantine/hooks';\nimport { groupOptions } from '@mantine/utils';\nimport { SelectScrollArea } from '../../Select/SelectScrollArea/SelectScrollArea.js';\nimport useStyles from './RenderList.styles.js';\nimport { UnstyledButton } from '../../UnstyledButton/UnstyledButton.js';\nimport { Divider } from '../../Divider/Divider.js';\nimport { Text } from '../../Text/Text.js';\nimport { TextInput } from '../../TextInput/TextInput.js';\nimport { ActionIcon } from '../../ActionIcon/ActionIcon.js';\nimport { PrevIcon } from '../../Pagination/icons/PrevIcon.js';\nimport { NextIcon } from '../../Pagination/icons/NextIcon.js';\nimport { FirstIcon } from '../../Pagination/icons/FirstIcon.js';\nimport { LastIcon } from '../../Pagination/icons/LastIcon.js';\nconst icons = {\n  Prev: PrevIcon,\n  Next: NextIcon,\n  First: FirstIcon,\n  Last: LastIcon\n};\nconst rtlIons = {\n  Next: PrevIcon,\n  Prev: NextIcon,\n  Last: FirstIcon,\n  First: LastIcon\n};\n\nfunction RenderList(_ref) {\n  let {\n    className,\n    data,\n    onSelect,\n    selection,\n    itemComponent: ItemComponent,\n    listComponent,\n    transferIcon: TransferIcon,\n    transferAllIcon: TransferAllIcon,\n    transferAllMatchingFilter,\n    searchPlaceholder,\n    query,\n    onSearch,\n    filter,\n    nothingFound,\n    placeholder,\n    title,\n    showTransferAll,\n    reversed,\n    onMoveAll,\n    onMove,\n    height,\n    radius,\n    classNames,\n    styles,\n    limit,\n    unstyled\n  } = _ref;\n  const {\n    classes,\n    cx,\n    theme\n  } = useStyles({\n    reversed,\n    native: listComponent !== SelectScrollArea,\n    radius\n  }, {\n    name: \"TransferList\",\n    classNames,\n    styles,\n    unstyled\n  });\n  const unGroupedItems = [];\n  const groupedItems = [];\n  const [hovered, setHovered] = useState(-1);\n  const filteredData = data.filter(item => filter(query, item)).slice(0, limit);\n  const ListComponent = listComponent || \"div\";\n  const Icons = theme.dir === \"rtl\" ? rtlIons : icons;\n  const itemsRefs = useRef({});\n  const sortedData = groupOptions({\n    data: filteredData\n  });\n  const {\n    scrollIntoView,\n    targetRef,\n    scrollableRef\n  } = useScrollIntoView({\n    duration: 0,\n    offset: 5,\n    cancelable: false,\n    isList: true\n  });\n  let groupName = null;\n  sortedData.forEach((item, index) => {\n    const itemComponent = /* @__PURE__ */React.createElement(UnstyledButton, {\n      unstyled,\n      tabIndex: -1,\n      onClick: () => onSelect(item.value),\n      key: item.value,\n      onMouseEnter: () => setHovered(index),\n      className: cx(classes.transferListItem, {\n        [classes.transferListItemHovered]: index === hovered\n      }),\n      ref: node => {\n        if (itemsRefs && itemsRefs.current) {\n          itemsRefs.current[item.value] = node;\n        }\n      }\n    }, /* @__PURE__ */React.createElement(ItemComponent, {\n      data: item,\n      selected: selection.includes(item.value),\n      radius\n    }));\n\n    if (!item.group) {\n      unGroupedItems.push(itemComponent);\n    } else {\n      if (groupName !== item.group) {\n        groupName = item.group;\n        groupedItems.push( /* @__PURE__ */React.createElement(\"div\", {\n          className: classes.separator,\n          key: groupName\n        }, /* @__PURE__ */React.createElement(Divider, {\n          classNames: {\n            label: classes.separatorLabel\n          },\n          label: groupName\n        })));\n      }\n\n      groupedItems.push(itemComponent);\n    }\n  });\n\n  if (groupedItems.length > 0 && unGroupedItems.length > 0) {\n    unGroupedItems.unshift( /* @__PURE__ */React.createElement(\"div\", {\n      className: classes.separator\n    }, /* @__PURE__ */React.createElement(Divider, {\n      unstyled,\n      classNames: {\n        label: classes.separatorLabel\n      }\n    })));\n  }\n\n  const handleSearchKeydown = event => {\n    switch (event.key) {\n      case \"Enter\":\n        {\n          event.preventDefault();\n\n          if (filteredData[hovered]) {\n            onSelect(filteredData[hovered].value);\n          }\n\n          break;\n        }\n\n      case \"ArrowDown\":\n        {\n          event.preventDefault();\n          setHovered(current => {\n            var _a;\n\n            const nextIndex = current < filteredData.length - 1 ? current + 1 : current;\n            targetRef.current = itemsRefs.current[(_a = filteredData[nextIndex]) == null ? void 0 : _a.value];\n            scrollIntoView({\n              alignment: \"end\"\n            });\n            return nextIndex;\n          });\n          break;\n        }\n\n      case \"ArrowUp\":\n        {\n          event.preventDefault();\n          setHovered(current => {\n            var _a;\n\n            const nextIndex = current > 0 ? current - 1 : current;\n            targetRef.current = itemsRefs.current[(_a = filteredData[nextIndex]) == null ? void 0 : _a.value];\n            scrollIntoView({\n              alignment: \"start\"\n            });\n            return nextIndex;\n          });\n        }\n    }\n  };\n\n  const transferIcon = reversed ? /* @__PURE__ */React.createElement(Icons.Prev, null) : /* @__PURE__ */React.createElement(Icons.Next, null);\n  const transferAllIcon = reversed ? /* @__PURE__ */React.createElement(Icons.First, null) : /* @__PURE__ */React.createElement(Icons.Last, null);\n  return /* @__PURE__ */React.createElement(\"div\", {\n    className: cx(classes.transferList, className)\n  }, title && /* @__PURE__ */React.createElement(Text, {\n    weight: 500,\n    unstyled,\n    className: classes.transferListTitle\n  }, title), /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.transferListBody\n  }, /* @__PURE__ */React.createElement(\"div\", {\n    className: classes.transferListHeader\n  }, /* @__PURE__ */React.createElement(TextInput, {\n    unstyled,\n    value: query,\n    onChange: event => {\n      onSearch(event.currentTarget.value);\n      setHovered(0);\n    },\n    onFocus: () => setHovered(0),\n    onBlur: () => setHovered(-1),\n    placeholder: searchPlaceholder,\n    radius: 0,\n    onKeyDown: handleSearchKeydown,\n    sx: {\n      flex: 1\n    },\n    classNames: {\n      input: classes.transferListSearch\n    }\n  }), /* @__PURE__ */React.createElement(ActionIcon, {\n    variant: \"default\",\n    size: 36,\n    radius: 0,\n    className: classes.transferListControl,\n    disabled: selection.length === 0,\n    onClick: onMove,\n    unstyled\n  }, TransferIcon ? /* @__PURE__ */React.createElement(TransferIcon, {\n    reversed\n  }) : transferIcon), showTransferAll && /* @__PURE__ */React.createElement(ActionIcon, {\n    variant: \"default\",\n    size: 36,\n    radius: 0,\n    className: classes.transferListControl,\n    disabled: transferAllMatchingFilter ? filteredData.length === 0 : data.length === 0,\n    onClick: onMoveAll,\n    unstyled\n  }, TransferAllIcon ? /* @__PURE__ */React.createElement(TransferAllIcon, {\n    reversed\n  }) : transferAllIcon)), /* @__PURE__ */React.createElement(ListComponent, {\n    ref: scrollableRef,\n    onMouseLeave: () => setHovered(-1),\n    className: classes.transferListItems,\n    style: {\n      height,\n      position: \"relative\",\n      overflowX: \"hidden\"\n    }\n  }, groupedItems.length > 0 || unGroupedItems.length > 0 ? /* @__PURE__ */React.createElement(React.Fragment, null, groupedItems, unGroupedItems) : /* @__PURE__ */React.createElement(Text, {\n    color: \"dimmed\",\n    unstyled,\n    size: \"sm\",\n    align: \"center\",\n    mt: \"sm\"\n  }, !query && placeholder ? placeholder : nothingFound))));\n}\n\nRenderList.displayName = \"@mantine/core/RenderList\";\nexport { RenderList };","map":{"version":3,"mappings":"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","names":["icons","Prev","PrevIcon","Next","NextIcon","First","FirstIcon","Last","LastIcon","rtlIons","RenderList","className","data","onSelect","selection","itemComponent","ItemComponent","listComponent","transferIcon","TransferIcon","transferAllIcon","TransferAllIcon","transferAllMatchingFilter","searchPlaceholder","query","onSearch","filter","nothingFound","placeholder","title","showTransferAll","reversed","onMoveAll","onMove","height","radius","classNames","styles","limit","unstyled","classes","cx","theme","useStyles","native","SelectScrollArea","name","unGroupedItems","groupedItems","hovered","setHovered","useState","filteredData","item","slice","ListComponent","Icons","dir","itemsRefs","useRef","sortedData","groupOptions","scrollIntoView","targetRef","scrollableRef","useScrollIntoView","duration","offset","cancelable","isList","groupName","forEach","index","React","createElement","UnstyledButton","tabIndex","onClick","value","key","onMouseEnter","transferListItem","transferListItemHovered","ref","node","current","selected","includes","group","push","separator","Divider","label","separatorLabel","length","unshift","handleSearchKeydown","event","preventDefault","_a","nextIndex","alignment","transferList","Text","weight","transferListTitle","transferListBody","transferListHeader","TextInput","onChange","currentTarget","onFocus","onBlur","onKeyDown","sx","flex","input","transferListSearch","ActionIcon","variant","size","transferListControl","disabled","onMouseLeave","transferListItems","style","position","overflowX","Fragment","color","align","mt","displayName"],"sources":["D:\\forum-system-with-react-novu-node\\client\\node_modules\\@mantine\\core\\src\\TransferList\\RenderList\\RenderList.tsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { DefaultProps, Selectors, MantineNumberSize } from '@mantine/styles';\nimport { useScrollIntoView } from '@mantine/hooks';\nimport { groupOptions } from '@mantine/utils';\nimport { SelectScrollArea } from '../../Select/SelectScrollArea/SelectScrollArea';\nimport { UnstyledButton } from '../../UnstyledButton';\nimport { ActionIcon } from '../../ActionIcon';\nimport { TextInput } from '../../TextInput';\nimport { Text } from '../../Text';\nimport { Divider } from '../../Divider';\nimport { LastIcon, NextIcon, FirstIcon, PrevIcon } from '../../Pagination/icons';\nimport { TransferListItem, TransferListItemComponent } from '../types';\nimport useStyles from './RenderList.styles';\n\nexport type RenderListStylesNames = Selectors<typeof useStyles>;\n\nexport interface RenderListProps extends DefaultProps<RenderListStylesNames> {\n  data: TransferListItem[];\n  onSelect(value: string): void;\n  selection: string[];\n  itemComponent: TransferListItemComponent;\n  searchPlaceholder: string;\n  query?: string;\n  onSearch(value: string): void;\n  filter(query: string, item: TransferListItem): boolean;\n  nothingFound?: React.ReactNode;\n  placeholder?: React.ReactNode;\n  title?: React.ReactNode;\n  reversed?: boolean;\n  showTransferAll?: boolean;\n  onMoveAll(): void;\n  onMove(): void;\n  height: number;\n  radius: MantineNumberSize;\n  listComponent?: React.FC<any>;\n  limit?: number;\n  transferIcon?: React.FunctionComponent<{ reversed }>;\n  transferAllIcon?: React.FunctionComponent<{ reversed }>;\n  transferAllMatchingFilter: boolean;\n}\n\nconst icons = {\n  Prev: PrevIcon,\n  Next: NextIcon,\n  First: FirstIcon,\n  Last: LastIcon,\n};\n\nconst rtlIons = {\n  Next: PrevIcon,\n  Prev: NextIcon,\n  Last: FirstIcon,\n  First: LastIcon,\n};\n\nexport function RenderList({\n  className,\n  data,\n  onSelect,\n  selection,\n  itemComponent: ItemComponent,\n  listComponent,\n  transferIcon: TransferIcon,\n  transferAllIcon: TransferAllIcon,\n  transferAllMatchingFilter,\n  searchPlaceholder,\n  query,\n  onSearch,\n  filter,\n  nothingFound,\n  placeholder,\n  title,\n  showTransferAll,\n  reversed,\n  onMoveAll,\n  onMove,\n  height,\n  radius,\n  classNames,\n  styles,\n  limit,\n  unstyled,\n}: RenderListProps) {\n  const { classes, cx, theme } = useStyles(\n    { reversed, native: listComponent !== SelectScrollArea, radius },\n    { name: 'TransferList', classNames, styles, unstyled }\n  );\n  const unGroupedItems: React.ReactElement<any>[] = [];\n  const groupedItems: React.ReactElement<any>[] = [];\n  const [hovered, setHovered] = useState(-1);\n  const filteredData = data.filter((item) => filter(query, item)).slice(0, limit);\n  const ListComponent = listComponent || 'div';\n  const Icons = theme.dir === 'rtl' ? rtlIons : icons;\n\n  const itemsRefs = useRef<Record<string, HTMLButtonElement>>({});\n\n  const sortedData: TransferListItem[] = groupOptions({ data: filteredData });\n\n  const { scrollIntoView, targetRef, scrollableRef } = useScrollIntoView({\n    duration: 0,\n    offset: 5,\n    cancelable: false,\n    isList: true,\n  });\n\n  let groupName = null;\n\n  sortedData.forEach((item, index) => {\n    const itemComponent = (\n      <UnstyledButton\n        unstyled={unstyled}\n        tabIndex={-1}\n        onClick={() => onSelect(item.value)}\n        key={item.value}\n        onMouseEnter={() => setHovered(index)}\n        className={cx(classes.transferListItem, {\n          [classes.transferListItemHovered]: index === hovered,\n        })}\n        ref={(node: HTMLButtonElement) => {\n          if (itemsRefs && itemsRefs.current) {\n            itemsRefs.current[item.value] = node;\n          }\n        }}\n      >\n        <ItemComponent data={item} selected={selection.includes(item.value)} radius={radius} />\n      </UnstyledButton>\n    );\n\n    if (!item.group) {\n      unGroupedItems.push(itemComponent);\n    } else {\n      if (groupName !== item.group) {\n        groupName = item.group;\n        groupedItems.push(\n          <div className={classes.separator} key={groupName}>\n            <Divider classNames={{ label: classes.separatorLabel }} label={groupName} />\n          </div>\n        );\n      }\n      groupedItems.push(itemComponent);\n    }\n  });\n\n  if (groupedItems.length > 0 && unGroupedItems.length > 0) {\n    unGroupedItems.unshift(\n      <div className={classes.separator}>\n        <Divider unstyled={unstyled} classNames={{ label: classes.separatorLabel }} />\n      </div>\n    );\n  }\n\n  const handleSearchKeydown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (event.key) {\n      case 'Enter': {\n        event.preventDefault();\n        if (filteredData[hovered]) {\n          onSelect(filteredData[hovered].value);\n        }\n        break;\n      }\n\n      case 'ArrowDown': {\n        event.preventDefault();\n        setHovered((current) => {\n          const nextIndex = current < filteredData.length - 1 ? current + 1 : current;\n\n          targetRef.current = itemsRefs.current[filteredData[nextIndex]?.value];\n\n          scrollIntoView({\n            alignment: 'end',\n          });\n\n          return nextIndex;\n        });\n        break;\n      }\n\n      case 'ArrowUp': {\n        event.preventDefault();\n        setHovered((current) => {\n          const nextIndex = current > 0 ? current - 1 : current;\n\n          targetRef.current = itemsRefs.current[filteredData[nextIndex]?.value];\n\n          scrollIntoView({\n            alignment: 'start',\n          });\n\n          return nextIndex;\n        });\n      }\n    }\n  };\n\n  const transferIcon = reversed ? <Icons.Prev /> : <Icons.Next />;\n  const transferAllIcon = reversed ? <Icons.First /> : <Icons.Last />;\n\n  return (\n    <div className={cx(classes.transferList, className)}>\n      {title && (\n        <Text weight={500} unstyled={unstyled} className={classes.transferListTitle}>\n          {title}\n        </Text>\n      )}\n\n      <div className={classes.transferListBody}>\n        <div className={classes.transferListHeader}>\n          <TextInput\n            unstyled={unstyled}\n            value={query}\n            onChange={(event) => {\n              onSearch(event.currentTarget.value);\n              setHovered(0);\n            }}\n            onFocus={() => setHovered(0)}\n            onBlur={() => setHovered(-1)}\n            placeholder={searchPlaceholder}\n            radius={0}\n            onKeyDown={handleSearchKeydown}\n            sx={{ flex: 1 }}\n            classNames={{ input: classes.transferListSearch }}\n          />\n\n          <ActionIcon\n            variant=\"default\"\n            size={36}\n            radius={0}\n            className={classes.transferListControl}\n            disabled={selection.length === 0}\n            onClick={onMove}\n            unstyled={unstyled}\n          >\n            {TransferIcon ? <TransferIcon reversed={reversed} /> : transferIcon}\n          </ActionIcon>\n\n          {showTransferAll && (\n            <ActionIcon\n              variant=\"default\"\n              size={36}\n              radius={0}\n              className={classes.transferListControl}\n              disabled={transferAllMatchingFilter ? filteredData.length === 0 : data.length === 0}\n              onClick={onMoveAll}\n              unstyled={unstyled}\n            >\n              {TransferAllIcon ? <TransferAllIcon reversed={reversed} /> : transferAllIcon}\n            </ActionIcon>\n          )}\n        </div>\n\n        <ListComponent\n          ref={scrollableRef}\n          onMouseLeave={() => setHovered(-1)}\n          className={classes.transferListItems}\n          style={{ height, position: 'relative', overflowX: 'hidden' }}\n        >\n          {groupedItems.length > 0 || unGroupedItems.length > 0 ? (\n            <>\n              {groupedItems}\n              {unGroupedItems}\n            </>\n          ) : (\n            <Text color=\"dimmed\" unstyled={unstyled} size=\"sm\" align=\"center\" mt=\"sm\">\n              {!query && placeholder ? placeholder : nothingFound}\n            </Text>\n          )}\n        </ListComponent>\n      </div>\n    </div>\n  );\n}\n\nRenderList.displayName = '@mantine/core/RenderList';\n"]},"metadata":{},"sourceType":"module"}
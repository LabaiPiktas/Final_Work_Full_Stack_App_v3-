{"ast":null,"code":"var _jsxFileName = \"D:\\\\forum-system-with-react-novu-node\\\\client\\\\src\\\\components\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Likes from \"../utils/Likes\";\nimport Comments from \"../utils/Comments\";\nimport { useNavigate } from \"react-router-dom\";\nimport Nav from \"./Nav\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [thread, setThread] = useState(\"\");\n  const [threadList, setThreadList] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const checkUser = () => {\n      if (!localStorage.getItem(\"_id\")) {\n        navigate(\"/\");\n      } else {\n        fetch(\"http://localhost:4000/api/all/threads\").then(res => res.json()).then(data => setThreadList(data.threads)).catch(err => console.error(err));\n      }\n    };\n\n    checkUser();\n  }, [navigate]);\n\n  const createThread = () => {\n    fetch(\"http://localhost:4000/api/create/thread\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        thread,\n        id: localStorage.getItem(\"_id\")\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      alert(data.message);\n      setThreadList(data.threads);\n    }).catch(err => console.error(err));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createThread();\n    setThread(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"home\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"homeTitle\",\n        children: \"Create a Thread\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"homeForm\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"home__container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"thread\",\n            children: \"Title / Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"thread\",\n            required: true,\n            value: thread,\n            onChange: e => setThread(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"homeBtn\",\n          children: \"CREATE THREAD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"thread__container\",\n        children: threadList.map(thread => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"thread__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: thread.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"react__container\",\n            children: [/*#__PURE__*/_jsxDEV(Likes, {\n              numberOfLikes: thread.likes.length,\n              threadId: thread.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Comments, {\n              numberOfComments: thread.replies.length,\n              threadId: thread.id,\n              title: thread.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 8\n          }, this)]\n        }, thread.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"BZa91FOD2KmkEGOmI7Pe7U2MUUE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Likes","Comments","useNavigate","Nav","Home","thread","setThread","threadList","setThreadList","navigate","checkUser","localStorage","getItem","fetch","then","res","json","data","threads","catch","err","console","error","createThread","method","body","JSON","stringify","id","headers","alert","message","handleSubmit","e","preventDefault","target","value","map","title","likes","length","replies"],"sources":["D:/forum-system-with-react-novu-node/client/src/components/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Likes from \"../utils/Likes\";\nimport Comments from \"../utils/Comments\";\nimport { useNavigate } from \"react-router-dom\";\nimport Nav from \"./Nav\";\n\nconst Home = () => {\n\tconst [thread, setThread] = useState(\"\");\n\tconst [threadList, setThreadList] = useState([]);\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tconst checkUser = () => {\n\t\t\tif (!localStorage.getItem(\"_id\")) {\n\t\t\t\tnavigate(\"/\");\n\t\t\t} else {\n\t\t\t\tfetch(\"http://localhost:4000/api/all/threads\")\n\t\t\t\t\t.then((res) => res.json())\n\t\t\t\t\t.then((data) => setThreadList(data.threads))\n\t\t\t\t\t.catch((err) => console.error(err));\n\t\t\t}\n\t\t};\n\t\tcheckUser();\n\t}, [navigate]);\n\n\tconst createThread = () => {\n\t\tfetch(\"http://localhost:4000/api/create/thread\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tthread,\n\t\t\t\tid: localStorage.getItem(\"_id\"),\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => res.json())\n\t\t\t.then((data) => {\n\t\t\t\talert(data.message);\n\t\t\t\tsetThreadList(data.threads);\n\t\t\t})\n\t\t\t.catch((err) => console.error(err));\n\t};\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tcreateThread();\n\t\tsetThread(\"\");\n\t};\n\treturn (\n\t\t<>\n\t\t\t<Nav />\n\t\t\t<main className='home'>\n\t\t\t\t<h2 className='homeTitle'>Create a Thread</h2>\n\t\t\t\t<form className='homeForm' onSubmit={handleSubmit}>\n\t\t\t\t\t<div className='home__container'>\n\t\t\t\t\t\t<label htmlFor='thread'>Title / Description</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tname='thread'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={thread}\n\t\t\t\t\t\t\tonChange={(e) => setThread(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className='homeBtn'>CREATE THREAD</button>\n\t\t\t\t</form>\n\n\t\t\t\t<div className='thread__container'>\n\t\t\t\t\t{threadList.map((thread) => (\n\t\t\t\t\t\t<div className='thread__item' key={thread.id}>\n\t\t\t\t\t\t\t<p>{thread.title}</p>\n\t\t\t\t\t\t\t<div className='react__container'>\n\t\t\t\t\t\t\t\t<Likes\n\t\t\t\t\t\t\t\t\tnumberOfLikes={thread.likes.length}\n\t\t\t\t\t\t\t\t\tthreadId={thread.id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Comments\n\t\t\t\t\t\t\t\t\tnumberOfComments={thread.replies.length}\n\t\t\t\t\t\t\t\t\tthreadId={thread.id}\n\t\t\t\t\t\t\t\t\ttitle={thread.title}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</>\n\t);\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}